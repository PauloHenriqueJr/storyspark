<!DOCTYPE html>
<html>
<head>
    <title>Clear Cache</title>
</head>
<body>
    <h1>StorySpark - Limpar Cache</h1>
    <button onclick="clearCache()">Limpar Cache do LocalStorage</button>
    <p id="status"></p>
    
    <script>
        function clearCache() {
            // Limpar todos os itens do localStorage que contêm "workspace"
            const keysToRemove = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && key.includes('workspace')) {
                    keysToRemove.push(key);
                }
            }
            
            keysToRemove.forEach(key => localStorage.removeItem(key));
            
            document.getElementById('status').innerText = `Cache limpo! ${keysToRemove.length} itens removidos. Recarregue a página do StorySpark.`;
            
            // Redirecionar para o app após 2 segundos
            setTimeout(() => {
                window.location.href = 'http://localhost:8080';
            }, 2000);
        }
    </script>
</body>
</html>
